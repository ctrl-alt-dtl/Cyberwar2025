<div class="effects">
  <div id="effects-window">
    <table>
      <tr>
        <td colspan="4" class="title header last">&nbsp;Cyber Effects Window&nbsp;</td>
      </tr>
      <tr>
        <td ng-repeat="(key, researchType) in ResearchType" class="header inner">{{researchType}}</td>
        <td class="header cost last">Cost to Use:</td>
      </tr>
      <tr ng-repeat="cyberEffect in cyberEffects track by $index">
        <td ng-repeat="(key, researchType) in ResearchType" class="inner effect" ng-class="getUnlockStatus(researchType, $parent.$index + 1)">{{cyberEffect[researchType]}}</td>
        <td class="effect cost last">{{$index + 1}}</td>
      </tr>
      <tr>
        <td colspan="3" class="header inner">Research Investment Table</td>
        <td class="header last">Action Points</td>
      </tr>
      <tr class="ui-row">
        <td ng-repeat="(key, researchType) in ResearchType">
          <div class="recharge-meter">
            <div class="meter-bg">
              <div class="blocks paid" ng-repeat="meter in researchMeters[researchType].research track by $index"
                   ng-disabled="!canInvest()" ng-click="invest(researchType, 0)"></div>
              <div class="blocks invested" ng-repeat="meter in researchMeters[researchType].currentInvestment track by $index"
                   ng-disabled="!canInvest()" ng-click="invest(researchType, $index + 1)"></div>
              <div class="blocks" ng-repeat="meter in researchMeters[researchType].costRemaining track by $index"
                   ng-disabled="!canInvest()" ng-click="invest(researchType, getCurrentInvestment(researchType) + $index + 1)"></div>
            </div>
          </div>
        </td>
        <td class="actionPointsNumber" rowspan="2" >{{actionPoints}}</td>
      </tr>
      <tr ng-if="!isObserver()">
        <td ng-repeat="(key, researchType) in ResearchType">
          <button type="button" class="minusPlusBtn" ng-disabled="!canInvest()"
                  ng-click="invest(researchType, getCurrentInvestment(researchType) - 1)"> - </button>
          <button type="button" class="minusPlusBtn" ng-disabled="!canInvest()"
                  ng-click="invest(researchType, getCurrentInvestment(researchType) + 1)"> + </button>
        </td>
      </tr>
    </table>
  </div>
</div>