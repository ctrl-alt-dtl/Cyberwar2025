angular.module('CyberWar')
.controller('ExploitLinkDialogController', function($scope, $uibModalInstance, GameState, GameUtil, nodeA, nodeB) {
  $scope.myExploitLinks = getLinksWithNode(GameState.currentPlayerData.exploitLinks, nodeA, nodeB);
  $scope.theirExploitLinks = getLinksWithNode(GameState.currentPlayerData.scannedExploitLinks, nodeA, nodeB);

  // ----------------------------------------------------------------------------
  $scope.close = function () {
    $uibModalInstance.close();
  };

  // ----------------------------------------------------------------------------
  function getLinksWithNode(linkList, nodeA, nodeB) {
    return linkList.filter(link => GameUtil.Equality.isLocationInLink(link, nodeA) && GameUtil.Equality.isLocationInLink(link, nodeB));
  }
});